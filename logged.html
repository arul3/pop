<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Home</title>
    <link rel="stylesheet" href="log.css">
    <link rel="stylesheet" href="tool.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="js/jquery-3.2.1.min.js">

    </script>

  </head>
  <body onload="doc2()">

    <div class="div" >




        <input type="text" name="fnd" class="el" maxlength="41" min="40"max="80" width="600px" height="100px">
          <div class="tooltip">

          <button class="sr"type="button" name="button"><i class="material-icons" style="font-size:26px">search</i></button>
          <p class="tooltiptext">search frinds</p>
        </div>
        <div class="tooltip">
        <button class="icon" type="button" name="fb"> <i class="fa fa-facebook-square" style="font-size: 28px; color:white"></i></button>


      </div>

          <button id="msg" onclick="doc()" class="msg" type="button" name="msg"> <i class="fa fa-envelope" style="font-size:24px" ></i></button>

        <button class="req" onclick="" type="button" name="request"><i class="fa fa-group" style="font-size:18px"></i></button>
        <button class="log"type="button" name="logout"><i class="fa fa-lock" style="font-size:24px"></i></button>
        <button class="pro"type="button" name="profile">Profile</button>

</div>
        <div id="msgextend">
          <p id="test"></p>

        </div>
        <div id="logextend" class="borderbox">

          <p>settings</p>
          <p>logout</p>
          <p>privacy</p>

        </div>
        <div class="reqextend" id="reqt">
            <h3 id="response"></h3>

          

        </div>
      
      



  </body>
<script type="text/javascript">


$(".reqextend").hide();
$("#msgextend").hide();
$("#logextend").hide();

var t="#msgextend";
$("#msg").click(function(){
//$("#logextend").toggle(100);
$(t).toggle();
$(".request").hide();


});

$(".log").click(function(){

$(".reqextend").hide();
$("#msgextend").hide();
$("#logextend").toggle();
});


$(".req").click(function(){

$("#msgextend").hide();
$("#logextend").hide();
$(".reqextend").toggle();


});


</script>


<script type="text/javascript">

function doc()
{
  var xhttp=new XMLHttpRequest();

xhttp.onreadystatechange=function () {

  if(this.readyState == 4 && this.status == 200)
  {
    document.getElementById('test').innerHTML=this.responseText;
 
  }

}

var str=Math.random();
xhttp.open("GET","msgextend.php?q="+str,true);
xhttp.send();
}

function doc2()
{
  var xhttp=new XMLHttpRequest();

xhttp.onreadystatechange=function () {

  if(this.readyState == 4 && this.status == 200)
  {
    //document.getElementById('reqt').innerHTML=this.responseText;
    //document.getElementById('response').innerHTML=this.getAllResponseHeaders();
    xml(this);
 
  }

};

var str=Math.random();
xhttp.open("GET","request.php?q="+str,true);
xhttp.send();
};


function xml(doc) {

var xmlDoc=doc.responseXML;
x=xmlDoc.getElementsByTagName('request');
y=x.length;

for(var i=0 ;i<y;i++)
    
    {

        var txt=x[i].getElementsByTagName('name')[0].childNodes[0].nodeValue;
        var but=x[i].getElementsByTagName('id')[0].childNodes[0].nodeValue;   
            
        var newnode = document.createElement("p");
        
        var textnode= document.createTextNode(txt);
        newnode.appendChild(textnode);
        var oldnode= document.getElementById("reqt");
        
        oldnode.appendChild(newnode);
        
        var newnode2=document.createElement("button");
        var textnode2=document.createTextNode("ADD");
        newnode2.appendChild(textnode2);
        oldnode.appendChild(newnode2);
        
        var id="a"+i;
        
        newnode2.id=id;
        document.getElementById(id).setAttribute("class","butt2");
        document.getElementById(id).value=but;
            //document.getElementbyId(id).addEventListener("onclick",romove(id));
        
        //document.getElementById('reqt').innerHTML=txt;
            
            var id="b"+i;
        
        newnode.id=id;
        document.getElementById(id).style.color="blue";
        document.getElementById(id).style.display="inline-block";
            
    }

   
$("button.butt2").click(function(){
    
    $(this).hide();
    var x=$(this).val();
    $(this).prev().hide();
    
    var xhttp=new XMLHttpRequest();
    
xhttp.onreadystatechange= function()
    {
        
        if(this.readyState == 4 && this.status == 200)
        {
        
        document.getElementById('reqt').innerHTML=this.responseText;
        
        }
    
    
    };
    
    xhttp.open("GET","add.php?q="+x,true);
    xhttp.send();

});

};



</script>
</html>
